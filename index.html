<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ResumeForge - AI-Powered Resume Optimization</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Heroicons for modern icons -->
    <script src="https://unpkg.com/heroicons@2.0.18/24/outline/index.js" type="module"></script>
    
    <!-- PDF.js for PDF parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    
    <!-- mammoth.js for DOCX parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>
    
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.3); }
            50% { box-shadow: 0 0 30px rgba(99, 102, 241, 0.6); }
        }
        @keyframes dotPulse {
            0%, 20% { opacity: 0.3; }
            50% { opacity: 1; }
            80%, 100% { opacity: 0.3; }
        }
        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }
        .animate-slideIn { animation: slideIn 0.5s ease-out; }
        .animate-dot-1 { animation: dotPulse 1.4s infinite; animation-delay: 0s; }
        .animate-dot-2 { animation: dotPulse 1.4s infinite; animation-delay: 0.2s; }
        .animate-dot-3 { animation: dotPulse 1.4s infinite; animation-delay: 0.4s; }
        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        .glass-dark {
            background: rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        .gradient-bg {
            background: linear-gradient(135deg, #f5f7fa 0%, #e8ecf1 50%, #f0f4f8 100%);
        }
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            animation: slideIn 0.3s ease-out;
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
    </style>
    
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Firebase SDK v10 -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, signInAnonymously, onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore, doc, getDoc, setDoc, updateDoc, onSnapshot, serverTimestamp, collection, addDoc, getDocs, deleteDoc, query, orderBy } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        import { getFunctions, httpsCallable } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-functions.js';
        
        // Make Firebase modules available globally
        window.firebaseModules = {
            initializeApp,
            getAuth,
            signInAnonymously,
            onAuthStateChanged,
            getFirestore,
            doc,
            getDoc,
            setDoc,
            updateDoc,
            onSnapshot,
            serverTimestamp,
            getFunctions,
            httpsCallable
        };
    </script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const {
            initializeApp,
            getAuth,
            signInAnonymously,
            onAuthStateChanged,
            createUserWithEmailAndPassword,
            signInWithEmailAndPassword,
            signOut,
            getFirestore,
            doc,
            getDoc,
            setDoc,
            updateDoc,
            onSnapshot,
            serverTimestamp,
            collection,
            addDoc,
            getDocs,
            deleteDoc,
            query,
            orderBy,
            getFunctions,
            httpsCallable
        } = window.firebaseModules || {};

        // Configuration - REPLACE WITH YOUR VALUES
        const APP_ID = 'resume-tailor-v1';
        const FIREBASE_CONFIG = {
            apiKey: "AIzaSyALXDoW17ultZ3rlSNr9oL4GE6DLCQa3tI",
            authDomain: "resume-tailor-f4f7c.firebaseapp.com",
            projectId: "resume-tailor-f4f7c",
            storageBucket: "resume-tailor-f4f7c.firebasestorage.app",
            messagingSenderId: "697064626570",
            appId: "1:697064626570:web:b9c65f441c8561bab51073"
        };

        // Constants
        const CREDIT_COST = 1;
        const PURCHASE_BUNDLE = 5;

        // Initialize Firebase
        const app = initializeApp(FIREBASE_CONFIG);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const functions = getFunctions(app);

        function App() {
            const [userId, setUserId] = useState(null);
            const [userEmail, setUserEmail] = useState(null);
            const [credits, setCredits] = useState(0);
            const [jobDescription, setJobDescription] = useState('');
            const [resumeSection, setResumeSection] = useState('');
            const [tailoredText, setTailoredText] = useState('');
            const [isGenerating, setIsGenerating] = useState(false);
            const [error, setError] = useState(null);
            const [isLoading, setIsLoading] = useState(true);
            const [toast, setToast] = useState(null);
            const [uploadMode, setUploadMode] = useState(false);
            const [uploadedFileName, setUploadedFileName] = useState('');
            const [showAuthModal, setShowAuthModal] = useState(false);
            const [authMode, setAuthMode] = useState('signin'); // 'signin' or 'signup'
            const [authEmail, setAuthEmail] = useState('');
            const [authPassword, setAuthPassword] = useState('');
            const [authLoading, setAuthLoading] = useState(false);
            const [savedResumes, setSavedResumes] = useState([]);
            const [showSavedResumes, setShowSavedResumes] = useState(false);
            const [showLandingPage, setShowLandingPage] = useState(true);
            const unsubscribeRef = useRef(null);
            
            // Toast notification function
            const showToast = (message, type = 'success') => {
                setToast({ message, type });
                setTimeout(() => setToast(null), 4000);
            };

            // Initialize authentication
            useEffect(() => {
                const unsubscribe = onAuthStateChanged(auth, async (user) => {
                    if (user && user.email) {
                        // User is signed in with email/password
                        setUserId(user.uid);
                        setUserEmail(user.email);
                        setIsLoading(false);
                        setShowAuthModal(false);
                        setShowLandingPage(false); // Hide landing page when signed in
                    } else {
                        // No user signed in - show landing page
                        setUserId(null);
                        setUserEmail(null);
                        setIsLoading(false);
                        setShowAuthModal(false);
                        setShowLandingPage(true); // Show landing page
                    }
                });

                return () => unsubscribe();
            }, []);

            // Handle sign up
            const handleSignUp = async () => {
                if (!authEmail || !authPassword) {
                    setError('Please enter email and password');
                    return;
                }
                if (authPassword.length < 6) {
                    setError('Password must be at least 6 characters');
                    return;
                }

                setAuthLoading(true);
                setError(null);

                try {
                    const userCredential = await createUserWithEmailAndPassword(auth, authEmail, authPassword);
                    showToast('Account created successfully!', 'success');
                    setAuthEmail('');
                    setAuthPassword('');
                } catch (error) {
                    console.error('Sign up error:', error);
                    setError(error.message || 'Failed to create account. Please try again.');
                } finally {
                    setAuthLoading(false);
                }
            };

            // Handle sign in
            const handleSignIn = async () => {
                if (!authEmail || !authPassword) {
                    setError('Please enter email and password');
                    return;
                }

                setAuthLoading(true);
                setError(null);

                try {
                    await signInWithEmailAndPassword(auth, authEmail, authPassword);
                    showToast('Signed in successfully!', 'success');
                    setAuthEmail('');
                    setAuthPassword('');
                } catch (error) {
                    console.error('Sign in error:', error);
                    setError(error.message || 'Failed to sign in. Please check your credentials.');
                } finally {
                    setAuthLoading(false);
                }
            };

            // Handle sign out
            const handleSignOut = async () => {
                try {
                    await signOut(auth);
                    showToast('Signed out successfully', 'success');
                    setSavedResumes([]);
                    setTailoredText('');
                    setJobDescription('');
                    setResumeSection('');
                } catch (error) {
                    console.error('Sign out error:', error);
                    setError('Failed to sign out');
                }
            };

            // Set up real-time credit balance listener
            useEffect(() => {
                if (!userId) return;

                const creditsPath = `artifacts/${APP_ID}/users/${userId}/profile/data`;
                const creditsDocRef = doc(db, creditsPath);

                unsubscribeRef.current = onSnapshot(
                    creditsDocRef,
                    async (snapshot) => {
                        if (snapshot.exists()) {
                            const data = snapshot.data();
                            setCredits(data.credits_balance || 0);
                        } else {
                            setCredits(0);
                            try {
                                await setDoc(creditsDocRef, {
                                    credits_balance: 0,
                                    created_at: serverTimestamp(),
                                    updated_at: serverTimestamp()
                                }, { merge: true });
                            } catch (error) {
                                console.error('Error initializing credits document:', error);
                            }
                        }
                    },
                    (error) => {
                        console.error('Error listening to credits:', error);
                        setError('Failed to load credit balance.');
                    }
                );

                return () => {
                    if (unsubscribeRef.current) {
                        unsubscribeRef.current();
                    }
                };
            }, [userId]);

            // Decrement credits function
            const decrementCredits = async () => {
                if (!userId) return false;

                const creditsPath = `artifacts/${APP_ID}/users/${userId}/profile/data`;
                const creditsDocRef = doc(db, creditsPath);

                try {
                    const docSnap = await getDoc(creditsDocRef);
                    const currentCredits = docSnap.exists() ? (docSnap.data().credits_balance || 0) : 0;

                    if (currentCredits < CREDIT_COST) {
                        return false;
                    }

                    await updateDoc(creditsDocRef, {
                        credits_balance: currentCredits - CREDIT_COST,
                        updated_at: serverTimestamp()
                    });

                    return true;
                } catch (error) {
                    console.error('Error decrementing credits:', error);
                    return false;
                }
            };

            // Handle Stripe checkout for credit purchase
            const handleCreditPurchase = async () => {
                if (!userId) {
                    setError('Please wait for authentication to complete.');
                    return;
                }

                try {
                    const createCheckoutSession = httpsCallable(functions, 'createCheckoutSession');
                    const currentUrl = window.location.origin + window.location.pathname;
                    
                    const result = await createCheckoutSession({
                        currentUrl: currentUrl
                    });

                    if (result.data && result.data.url) {
                        // Redirect to Stripe Checkout
                        window.location.href = result.data.url;
                    } else {
                        throw new Error('No checkout URL returned');
                    }
                } catch (error) {
                    console.error('Error creating checkout session:', error);
                    setError(error.message || 'Failed to create checkout session. Please try again.');
                    showToast('Failed to start checkout. Please try again.', 'error');
                }
            };

            // Handle Stripe redirect after payment
            useEffect(() => {
                const urlParams = new URLSearchParams(window.location.search);
                const sessionId = urlParams.get('session_id');
                const success = urlParams.get('success');
                const canceled = urlParams.get('canceled');

                if (success && sessionId) {
                    showToast('Payment successful! Credits will be added to your account shortly.', 'success');
                    // Clean up URL
                    window.history.replaceState({}, document.title, window.location.pathname);
                    // Refresh credits after a short delay to allow webhook to process
                    setTimeout(() => {
                        if (userId) {
                            const creditsPath = `artifacts/${APP_ID}/users/${userId}/profile/data`;
                            const creditsDocRef = doc(db, creditsPath);
                            getDoc(creditsDocRef).then((docSnap) => {
                                if (docSnap.exists()) {
                                    setCredits(docSnap.data().credits_balance || 0);
                                }
                            });
                        }
                    }, 2000);
                } else if (canceled) {
                    showToast('Payment canceled', 'info');
                    // Clean up URL
                    window.history.replaceState({}, document.title, window.location.pathname);
                }
            }, [userId]);

            // Generate tailored resume
            const generateTailoredResume = async () => {
                if (!jobDescription.trim()) {
                    setError('Please enter a Job Description.');
                    return;
                }
                if (!resumeSection.trim()) {
                    setError('Please enter your Current Resume Section.');
                    return;
                }

                if (credits < CREDIT_COST) {
                    setError(`Insufficient credits. You need ${CREDIT_COST} credit to generate. Please purchase credits.`);
                    return;
                }

                setIsGenerating(true);
                setError(null);
                setTailoredText('');

                try {
                    const creditDeducted = await decrementCredits();
                    if (!creditDeducted) {
                        setError('Failed to deduct credits. Please try again.');
                        setIsGenerating(false);
                        return;
                    }

                    const tailorResume = httpsCallable(functions, 'tailorResume');
                    const result = await tailorResume({
                        jobDescription: jobDescription.trim(),
                        resumeSection: resumeSection.trim()
                    });

                    if (result.data && result.data.tailoredText) {
                        setTailoredText(result.data.tailoredText);
                    } else {
                        throw new Error('No tailored text returned from API');
                    }
                } catch (error) {
                    console.error('Error generating tailored resume:', error);
                    
                    // Refund credit if generation failed
                    if (userId) {
                        const creditsPath = `artifacts/${APP_ID}/users/${userId}/profile/data`;
                        const creditsDocRef = doc(db, creditsPath);
                        try {
                            const docSnap = await getDoc(creditsDocRef);
                            const currentCredits = docSnap.exists() ? (docSnap.data().credits_balance || 0) : 0;
                            await updateDoc(creditsDocRef, {
                                credits_balance: currentCredits + CREDIT_COST,
                                updated_at: serverTimestamp()
                            });
                        } catch (refundError) {
                            console.error('Error refunding credit:', refundError);
                        }
                    }

                    setError(error.message || 'Failed to generate tailored resume. Please try again.');
                } finally {
                    setIsGenerating(false);
                }
            };

            // Copy to clipboard
            const copyToClipboard = () => {
                if (!tailoredText) return;

                navigator.clipboard.writeText(tailoredText).then(() => {
                    showToast('Copied to clipboard!', 'success');
                }).catch((error) => {
                    console.error('Failed to copy:', error);
                    showToast('Failed to copy to clipboard.', 'error');
                });
            };

            // Save tailored resume
            const saveTailoredResume = async () => {
                if (!userId || !tailoredText || !jobDescription || !resumeSection) {
                    showToast('Nothing to save. Please generate a tailored resume first.', 'error');
                    return;
                }

                try {
                    const savedResumesPath = `artifacts/${APP_ID}/users/${userId}/saved_resumes`;
                    const savedResumesRef = collection(db, savedResumesPath);
                    
                    await addDoc(savedResumesRef, {
                        jobDescription: jobDescription.trim(),
                        originalSection: resumeSection.trim(),
                        tailoredSection: tailoredText.trim(),
                        createdAt: serverTimestamp(),
                        updatedAt: serverTimestamp()
                    });

                    showToast('Resume saved successfully!', 'success');
                    loadSavedResumes(); // Refresh the list
                } catch (error) {
                    console.error('Error saving resume:', error);
                    showToast('Failed to save resume. Please try again.', 'error');
                }
            };

            // Load saved resumes
            const loadSavedResumes = async () => {
                if (!userId) return;

                try {
                    const savedResumesPath = `artifacts/${APP_ID}/users/${userId}/saved_resumes`;
                    const savedResumesRef = collection(db, savedResumesPath);
                    const q = query(savedResumesRef, orderBy('createdAt', 'desc'));
                    const querySnapshot = await getDocs(q);
                    
                    const resumes = [];
                    querySnapshot.forEach((docSnap) => {
                        resumes.push({
                            id: docSnap.id,
                            ...docSnap.data()
                        });
                    });
                    
                    setSavedResumes(resumes);
                } catch (error) {
                    console.error('Error loading saved resumes:', error);
                }
            };

            // Load a saved resume
            const loadSavedResume = (savedResume) => {
                setJobDescription(savedResume.jobDescription || '');
                setResumeSection(savedResume.originalSection || '');
                setTailoredText(savedResume.tailoredSection || '');
                setShowSavedResumes(false);
                showToast('Resume loaded!', 'success');
            };

            // Delete a saved resume
            const deleteSavedResume = async (resumeId) => {
                if (!userId || !confirm('Are you sure you want to delete this saved resume?')) return;

                try {
                    const resumeDocRef = doc(db, `artifacts/${APP_ID}/users/${userId}/saved_resumes/${resumeId}`);
                    await deleteDoc(resumeDocRef);
                    showToast('Resume deleted successfully', 'success');
                    loadSavedResumes(); // Refresh the list
                } catch (error) {
                    console.error('Error deleting resume:', error);
                    showToast('Failed to delete resume', 'error');
                }
            };

            // Load saved resumes when user signs in
            useEffect(() => {
                if (userId) {
                    loadSavedResumes();
                }
            }, [userId]);

            // Handle file upload
            const handleFileUpload = async (event) => {
                const file = event.target.files[0];
                if (!file) return;

                // Check file size (10MB limit)
                if (file.size > 10 * 1024 * 1024) {
                    showToast('File size exceeds 10MB limit. Please upload a smaller file.', 'error');
                    return;
                }

                setUploadedFileName(file.name);
                setError(null);
                setIsGenerating(true);

                try {
                    let extractedText = '';

                    if (file.type === 'text/plain' || file.name.endsWith('.txt')) {
                        // Plain text file
                        extractedText = await file.text();
                    } else if (file.type === 'application/pdf' || file.name.endsWith('.pdf')) {
                        // PDF parsing using pdf.js
                        const arrayBuffer = await file.arrayBuffer();
                        const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
                        const numPages = pdf.numPages;
                        
                        for (let i = 1; i <= numPages; i++) {
                            const page = await pdf.getPage(i);
                            const textContent = await page.getTextContent();
                            const pageText = textContent.items.map(item => item.str).join(' ');
                            extractedText += pageText + '\n\n';
                        }
                    } else if (file.type === 'application/vnd.openxmlformats-officedocument.wordprocessingml.document' || file.name.endsWith('.docx')) {
                        // DOCX parsing using mammoth
                        const arrayBuffer = await file.arrayBuffer();
                        const result = await mammoth.extractRawText({ arrayBuffer });
                        extractedText = result.value;
                    } else {
                        showToast('Unsupported file type. Please upload .txt, .pdf, or .docx files.', 'error');
                        setIsGenerating(false);
                        return;
                    }

                    // Set the extracted text to the resume section
                    setResumeSection(extractedText);
                    showToast(`File "${file.name}" loaded successfully!`, 'success');
                } catch (error) {
                    console.error('Error reading file:', error);
                    showToast('Failed to read file. Please try pasting the text instead.', 'error');
                } finally {
                    setIsGenerating(false);
                }
            };
            
            // Character counters
            const jdCharCount = jobDescription.length;
            const resumeCharCount = resumeSection.length;

            if (isLoading) {
                return React.createElement('div', {
                    className: "min-h-screen gradient-bg flex items-center justify-center"
                }, React.createElement('div', { className: "text-center glass rounded-2xl p-12 shadow-2xl" },
                    React.createElement('div', { className: "relative w-16 h-16 mx-auto mb-6" },
                        React.createElement('div', { className: "absolute inset-0 border-4 border-indigo-200 rounded-full" }),
                        React.createElement('div', { className: "absolute inset-0 border-4 border-indigo-600 rounded-full border-t-transparent animate-spin" })
                    ),
                    React.createElement('p', { className: "text-gray-700 font-semibold text-lg" }, "Initializing..."),
                    React.createElement('p', { className: "text-gray-500 text-sm mt-2" }, "Setting up your workspace")
                ));
            }

            // Landing Page (shown when not signed in)
            if (!userId && showLandingPage) {
                return React.createElement('div', { className: "min-h-screen gradient-bg" },
                    // Hero Section
                    React.createElement('div', { className: "container mx-auto px-4 py-20" },
                        React.createElement('div', { className: "text-center mb-16 animate-fadeIn" },
                            React.createElement('h1', { className: "text-6xl md:text-7xl font-extrabold text-black mb-6" }, "ResumeForge"),
                            React.createElement('p', { className: "text-2xl md:text-3xl text-gray-700 font-medium mb-4" }, "Optimize Your Resume for ATS Systems"),
                            React.createElement('p', { className: "text-lg text-gray-600 max-w-2xl mx-auto mb-8" }, "AI-powered resume tailoring that matches job descriptions perfectly. Get past ATS filters and land more interviews."),
                            React.createElement('button', {
                                onClick: () => {
                                    setShowAuthModal(true);
                                    setAuthMode('signup');
                                },
                                className: "px-8 py-4 bg-indigo-600 text-white rounded-xl font-bold text-lg hover:bg-indigo-700 transition-all shadow-xl hover:shadow-2xl transform hover:scale-105"
                            }, "Get Started Free")
                        ),
                        // Features Section
                        React.createElement('div', { className: "max-w-6xl mx-auto mb-20" },
                            React.createElement('h2', { className: "text-3xl font-bold text-center text-gray-800 mb-12" }, "Why ResumeForge?"),
                            React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-3 gap-8" },
                                React.createElement('div', { className: "glass rounded-2xl p-6 text-center card-hover" },
                                    React.createElement('div', { className: "text-5xl mb-4" }, "üéØ"),
                                    React.createElement('h3', { className: "text-xl font-bold text-gray-800 mb-2" }, "ATS Optimization"),
                                    React.createElement('p', { className: "text-gray-600" }, "Match keywords from job descriptions to pass ATS filters automatically")
                                ),
                                React.createElement('div', { className: "glass rounded-2xl p-6 text-center card-hover" },
                                    React.createElement('div', { className: "text-5xl mb-4" }, "‚ö°"),
                                    React.createElement('h3', { className: "text-xl font-bold text-gray-800 mb-2" }, "Lightning Fast"),
                                    React.createElement('p', { className: "text-gray-600" }, "Get tailored resume sections in seconds with AI-powered processing")
                                ),
                                React.createElement('div', { className: "glass rounded-2xl p-6 text-center card-hover" },
                                    React.createElement('div', { className: "text-5xl mb-4" }, "üíæ"),
                                    React.createElement('h3', { className: "text-xl font-bold text-gray-800 mb-2" }, "Save & Manage"),
                                    React.createElement('p', { className: "text-gray-600" }, "Save multiple tailored resumes and access them anytime")
                                ),
                                React.createElement('div', { className: "glass rounded-2xl p-6 text-center card-hover" },
                                    React.createElement('div', { className: "text-5xl mb-4" }, "üìÑ"),
                                    React.createElement('h3', { className: "text-xl font-bold text-gray-800 mb-2" }, "File Upload"),
                                    React.createElement('p', { className: "text-gray-600" }, "Upload PDF, DOCX, or TXT files - we'll extract the text for you")
                                ),
                                React.createElement('div', { className: "glass rounded-2xl p-6 text-center card-hover" },
                                    React.createElement('div', { className: "text-5xl mb-4" }, "üîí"),
                                    React.createElement('h3', { className: "text-xl font-bold text-gray-800 mb-2" }, "Secure & Private"),
                                    React.createElement('p', { className: "text-gray-600" }, "Your data is encrypted and stored securely in your account")
                                ),
                                React.createElement('div', { className: "glass rounded-2xl p-6 text-center card-hover" },
                                    React.createElement('div', { className: "text-5xl mb-4" }, "üí∞"),
                                    React.createElement('h3', { className: "text-xl font-bold text-gray-800 mb-2" }, "Affordable"),
                                    React.createElement('p', { className: "text-gray-600" }, "Pay only for what you use - $2 for 5 generations")
                                )
                            )
                        ),
                        // How It Works Section
                        React.createElement('div', { className: "max-w-4xl mx-auto mb-20" },
                            React.createElement('h2', { className: "text-3xl font-bold text-center text-gray-800 mb-12" }, "How It Works"),
                            React.createElement('div', { className: "space-y-8" },
                                React.createElement('div', { className: "flex items-start gap-6 glass rounded-2xl p-6 card-hover" },
                                    React.createElement('div', { className: "text-4xl font-bold text-indigo-600 flex-shrink-0" }, "1"),
                                    React.createElement('div', null,
                                        React.createElement('h3', { className: "text-xl font-bold text-gray-800 mb-2" }, "Paste Job Description"),
                                        React.createElement('p', { className: "text-gray-600" }, "Copy and paste the job description you're applying for")
                                    )
                                ),
                                React.createElement('div', { className: "flex items-start gap-6 glass rounded-2xl p-6 card-hover" },
                                    React.createElement('div', { className: "text-4xl font-bold text-indigo-600 flex-shrink-0" }, "2"),
                                    React.createElement('div', null,
                                        React.createElement('h3', { className: "text-xl font-bold text-gray-800 mb-2" }, "Upload or Paste Resume"),
                                        React.createElement('p', { className: "text-gray-600" }, "Upload your resume file (PDF/DOCX/TXT) or paste the section you want to tailor")
                                    )
                                ),
                                React.createElement('div', { className: "flex items-start gap-6 glass rounded-2xl p-6 card-hover" },
                                    React.createElement('div', { className: "text-4xl font-bold text-indigo-600 flex-shrink-0" }, "3"),
                                    React.createElement('div', null,
                                        React.createElement('h3', { className: "text-xl font-bold text-gray-800 mb-2" }, "AI Optimizes Keywords"),
                                        React.createElement('p', { className: "text-gray-600" }, "Our AI analyzes the job description and rewrites your resume with matching keywords")
                                    )
                                ),
                                React.createElement('div', { className: "flex items-start gap-6 glass rounded-2xl p-6 card-hover" },
                                    React.createElement('div', { className: "text-4xl font-bold text-indigo-600 flex-shrink-0" }, "4"),
                                    React.createElement('div', null,
                                        React.createElement('h3', { className: "text-xl font-bold text-gray-800 mb-2" }, "Copy & Use"),
                                        React.createElement('p', { className: "text-gray-600" }, "Copy your optimized resume section and paste it into your resume. Save it for future reference!")
                                    )
                                )
                            )
                        ),
                        // Pricing Section
                        React.createElement('div', { className: "max-w-4xl mx-auto mb-20" },
                            React.createElement('h2', { className: "text-3xl font-bold text-center text-gray-800 mb-12" }, "Simple, Transparent Pricing"),
                            React.createElement('div', { className: "glass rounded-2xl p-8 text-center card-hover" },
                                React.createElement('div', { className: "text-5xl mb-4" }, "üíé"),
                                React.createElement('h3', { className: "text-2xl font-bold text-gray-800 mb-4" }, "Credit-Based System"),
                                React.createElement('p', { className: "text-gray-600 mb-6" }, "Pay only for what you use. No subscriptions, no hidden fees."),
                                React.createElement('div', { className: "inline-flex items-center gap-4 glass rounded-xl px-8 py-4" },
                                    React.createElement('div', null,
                                        React.createElement('div', { className: "text-3xl font-bold text-indigo-600" }, "$2.00"),
                                        React.createElement('div', { className: "text-sm text-gray-600" }, "for 5 credits")
                                    ),
                                    React.createElement('div', { className: "h-12 w-px bg-gray-300" }),
                                    React.createElement('div', null,
                                        React.createElement('div', { className: "text-3xl font-bold text-indigo-600" }, "1 Credit"),
                                        React.createElement('div', { className: "text-sm text-gray-600" }, "= 1 Generation")
                                    )
                                )
                            )
                        ),
                        // Final CTA
                        React.createElement('div', { className: "text-center" },
                            React.createElement('h2', { className: "text-3xl font-bold text-gray-800 mb-4" }, "Ready to Optimize Your Resume?"),
                            React.createElement('p', { className: "text-lg text-gray-600 mb-8" }, "Join thousands of job seekers getting more interviews"),
                            React.createElement('button', {
                                onClick: () => {
                                    setShowAuthModal(true);
                                    setAuthMode('signup');
                                },
                                className: "px-8 py-4 bg-indigo-600 text-white rounded-xl font-bold text-lg hover:bg-indigo-700 transition-all shadow-xl hover:shadow-2xl transform hover:scale-105"
                            }, "Get Started Free")
                        )
                    ),
                    // Auth Modal (same as before)
                    showAuthModal && React.createElement('div', {
                        className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",
                        onClick: () => setShowAuthModal(false)
                    },
                        React.createElement('div', {
                            className: "glass rounded-2xl p-8 max-w-md w-full shadow-2xl",
                            onClick: (e) => e.stopPropagation()
                        },
                            React.createElement('h2', { className: "text-2xl font-bold text-gray-800 mb-6 text-center" },
                                authMode === 'signin' ? 'Sign In to ResumeForge' : 'Create Account'
                            ),
                            error && React.createElement('div', {
                                className: "mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm"
                            }, error),
                            React.createElement('div', { className: "space-y-4" },
                                React.createElement('div', null,
                                    React.createElement('label', { className: "block text-sm font-semibold text-gray-700 mb-2" }, "Email"),
                                    React.createElement('input', {
                                        type: 'email',
                                        value: authEmail,
                                        onChange: (e) => setAuthEmail(e.target.value),
                                        placeholder: "your@email.com",
                                        className: "w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"
                                    })
                                ),
                                React.createElement('div', null,
                                    React.createElement('label', { className: "block text-sm font-semibold text-gray-700 mb-2" }, "Password"),
                                    React.createElement('input', {
                                        type: 'password',
                                        value: authPassword,
                                        onChange: (e) => setAuthPassword(e.target.value),
                                        placeholder: "‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",
                                        className: "w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"
                                    })
                                ),
                                React.createElement('button', {
                                    onClick: authMode === 'signin' ? handleSignIn : handleSignUp,
                                    disabled: authLoading,
                                    className: `w-full py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-all ${authLoading ? 'opacity-50 cursor-not-allowed' : ''}`
                                }, authLoading ? 'Loading...' : (authMode === 'signin' ? 'Sign In' : 'Sign Up')),
                                React.createElement('div', { className: "text-center text-sm text-gray-600" },
                                    authMode === 'signin' ? 
                                        React.createElement(React.Fragment, null,
                                            "Don't have an account? ",
                                            React.createElement('button', {
                                                onClick: () => {
                                                    setAuthMode('signup');
                                                    setError(null);
                                                },
                                                className: "text-indigo-600 hover:underline font-semibold"
                                            }, "Sign Up")
                                        ) :
                                        React.createElement(React.Fragment, null,
                                            "Already have an account? ",
                                            React.createElement('button', {
                                                onClick: () => {
                                                    setAuthMode('signin');
                                                    setError(null);
                                                },
                                                className: "text-indigo-600 hover:underline font-semibold"
                                            }, "Sign In")
                                        )
                                )
                            )
                        )
                    )
                );
            }

            return React.createElement('div', { className: "min-h-screen gradient-bg py-8 px-4" },
                React.createElement('div', { className: "max-w-7xl mx-auto" },
                    // Toast Notification
                    toast && React.createElement('div', {
                        className: `toast glass rounded-lg px-6 py-4 shadow-xl flex items-center gap-3 ${
                            toast.type === 'success' ? 'bg-green-50 border border-green-200' : 
                            toast.type === 'error' ? 'bg-red-50 border border-red-200' : 
                            'bg-blue-50 border border-blue-200'
                        }`
                    },
                        React.createElement('span', { className: "text-2xl" }, 
                            toast.type === 'success' ? '‚úì' : toast.type === 'error' ? '‚úï' : '‚Ñπ'
                        ),
                        React.createElement('span', { 
                            className: toast.type === 'success' ? 'text-green-800 font-medium' : 
                                      toast.type === 'error' ? 'text-red-800 font-medium' : 
                                      'text-blue-800 font-medium'
                        }, toast.message)
                    ),
                    // Header
                    React.createElement('div', { className: "text-center mb-10 animate-fadeIn" },
                        React.createElement('h1', { className: "text-5xl font-extrabold text-black mb-4" }, "ResumeForge"),
                        React.createElement('p', { className: "text-gray-700 text-lg font-medium mb-6" }, "Optimize your resume for ATS keyword alignment"),
                        React.createElement('div', { className: "inline-flex items-center gap-4 glass rounded-2xl px-8 py-4 shadow-xl card-hover flex-wrap justify-center" },
                            userEmail ? React.createElement(React.Fragment, null,
                                React.createElement('div', { className: "flex items-center gap-2" },
                                    React.createElement('span', { className: "text-2xl" }, "üë§"),
                                    React.createElement('div', null,
                                        React.createElement('span', { className: "text-xs text-gray-600 block" }, "Signed in as"),
                                        React.createElement('span', { className: "text-sm font-semibold text-gray-800" }, userEmail)
                                    )
                                ),
                                React.createElement('div', { className: "h-8 w-px bg-gray-300" }),
                                React.createElement('button', {
                                    onClick: () => setShowSavedResumes(true),
                                    className: "px-4 py-2 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 transition-all text-sm flex items-center gap-2"
                                },
                                    React.createElement('span', null, "üìÅ"),
                                    React.createElement('span', null, `Saved (${savedResumes.length})`)
                                ),
                                React.createElement('div', { className: "h-8 w-px bg-gray-300" }),
                                React.createElement('button', {
                                    onClick: handleSignOut,
                                    className: "px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-all text-sm"
                                }, "Sign Out")
                            ) : null,
                            React.createElement('div', { className: "h-8 w-px bg-gray-300" }),
                            React.createElement('div', { className: "flex items-center gap-2" },
                                React.createElement('span', { className: "text-3xl" }, "üíé"),
                                React.createElement('div', null,
                                    React.createElement('span', { className: "text-xs text-gray-600 block" }, "Credits"),
                                    React.createElement('span', { className: "text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent" }, credits)
                                )
                            ),
                            React.createElement('div', { className: "h-8 w-px bg-gray-300" }),
                            React.createElement('button', {
                                onClick: handleCreditPurchase,
                                className: "px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2"
                            },
                                React.createElement('span', null, "üí≥"),
                                React.createElement('span', null, `Buy ${PURCHASE_BUNDLE} Credits ($2.00)`)
                            )
                        )
                    ),
                    // Error Display
                    error && React.createElement('div', {
                        className: "mb-6 glass rounded-xl border-2 border-red-300 bg-red-50 px-6 py-4 shadow-lg animate-slideIn"
                    },
                        React.createElement('div', { className: "flex items-center gap-3" },
                            React.createElement('span', { className: "text-2xl" }, "‚ö†Ô∏è"),
                            React.createElement('p', { className: "text-red-800 font-medium" }, error)
                        )
                    ),
                    // Main Content
                    React.createElement('div', { className: "grid grid-cols-1 lg:grid-cols-2 gap-8" },
                        // Input Section
                        React.createElement('div', { className: "space-y-6 animate-fadeIn" },
                            React.createElement('div', { className: "glass rounded-2xl shadow-2xl p-6 card-hover border border-white/20" },
                                React.createElement('div', { className: "flex items-center justify-between mb-4" },
                                    React.createElement('label', { className: "flex items-center gap-2 text-base font-bold text-gray-800" },
                                        React.createElement('span', { className: "text-xl" }, "üìã"),
                                        React.createElement('span', null, "Job Description (JD)")
                                    ),
                                    React.createElement('span', { className: "text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full" }, `${jdCharCount} chars`)
                                ),
                                React.createElement('textarea', {
                                    value: jobDescription,
                                    onChange: (e) => setJobDescription(e.target.value),
                                    placeholder: "Paste the job description here...\n\nExample:\n- Required: 5+ years experience\n- Skills: JavaScript, React, Node.js\n- Responsibilities: Lead development team...",
                                    className: "w-full h-64 p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 resize-none transition-all bg-white/50 backdrop-blur-sm"
                                })
                            ),
                            React.createElement('div', { className: "glass rounded-2xl shadow-2xl p-6 card-hover border border-white/20" },
                                React.createElement('div', { className: "flex items-center justify-between mb-4" },
                                    React.createElement('label', { className: "flex items-center gap-2 text-base font-bold text-gray-800" },
                                        React.createElement('span', { className: "text-xl" }, "üìÑ"),
                                        React.createElement('span', null, "Current Resume Section")
                                    ),
                                    React.createElement('span', { className: "text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full" }, `${resumeCharCount} chars`)
                                ),
                                // Toggle buttons
                                React.createElement('div', { className: "flex gap-2 mb-4" },
                                    React.createElement('button', {
                                        onClick: () => {
                                            setUploadMode(false);
                                            setUploadedFileName('');
                                        },
                                        className: `px-4 py-2 rounded-lg text-sm font-medium transition-all ${
                                            !uploadMode 
                                                ? 'bg-indigo-600 text-white shadow-md' 
                                                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                        }`
                                    }, "üìã Paste"),
                                    React.createElement('button', {
                                        onClick: () => setUploadMode(true),
                                        className: `px-4 py-2 rounded-lg text-sm font-medium transition-all ${
                                            uploadMode 
                                                ? 'bg-indigo-600 text-white shadow-md' 
                                                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                        }`
                                    }, "üì§ Upload")
                                ),
                                // Conditional rendering based on mode
                                uploadMode ? React.createElement('div', { className: "space-y-4" },
                                    React.createElement('div', { className: "border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-indigo-500 transition-colors" },
                                        React.createElement('input', {
                                            type: 'file',
                                            accept: '.txt,.pdf,.docx',
                                            onChange: handleFileUpload,
                                            className: "hidden",
                                            id: "resume-upload"
                                        }),
                                        React.createElement('label', {
                                            htmlFor: "resume-upload",
                                            className: "cursor-pointer flex flex-col items-center gap-3"
                                        },
                                            React.createElement('span', { className: "text-4xl" }, "üìÅ"),
                                            React.createElement('div', { className: "flex flex-col items-center gap-1" },
                                                React.createElement('span', { className: "text-indigo-600 font-semibold" }, "Click to upload"),
                                                React.createElement('span', { className: "text-gray-600 text-sm" }, "or drag and drop")
                                            ),
                                            React.createElement('p', { className: "text-xs text-gray-500" }, "TXT, PDF, or DOCX (Max 10MB)")
                                        ),
                                        uploadedFileName && React.createElement('p', { className: "mt-4 text-sm text-gray-700 font-medium" }, 
                                            `‚úì ${uploadedFileName}`
                                        )
                                    ),
                                    resumeSection && React.createElement('div', { className: "mt-4" },
                                        React.createElement('textarea', {
                                            value: resumeSection,
                                            onChange: (e) => setResumeSection(e.target.value),
                                            placeholder: "Text extracted from file will appear here...",
                                            className: "w-full h-48 p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 resize-none transition-all bg-white/50 backdrop-blur-sm"
                                        })
                                    )
                                ) : React.createElement('textarea', {
                                    value: resumeSection,
                                    onChange: (e) => setResumeSection(e.target.value),
                                    placeholder: "Paste the resume section you want to tailor here...\n\nExample:\nSoftware Engineer | Tech Corp | 2020-2024\n- Developed web applications using React\n- Collaborated with cross-functional teams...",
                                    className: "w-full h-64 p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 resize-none transition-all bg-white/50 backdrop-blur-sm"
                                })
                            ),
                            React.createElement('button', {
                                onClick: generateTailoredResume,
                                disabled: isGenerating || credits < CREDIT_COST,
                                className: `w-full py-5 rounded-xl font-bold text-lg transition-all transform ${
                                    isGenerating || credits < CREDIT_COST 
                                        ? 'bg-indigo-500 text-white cursor-wait opacity-75' 
                                        : 'bg-indigo-600 text-white hover:bg-indigo-700 shadow-xl hover:shadow-2xl hover:scale-105'
                                } flex items-center justify-center gap-3 ${isGenerating ? 'animate-pulse' : ''}`
                            },
                                isGenerating ? [
                                    React.createElement('div', { 
                                        key: 'spinner', 
                                        className: "w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin" 
                                    }),
                                    React.createElement('span', { 
                                        key: 'text', 
                                        className: "font-semibold flex items-center gap-1" 
                                    }, 
                                        "Generating",
                                        React.createElement('span', { className: "animate-dot-1" }, "‚óè"),
                                        React.createElement('span', { className: "animate-dot-2" }, "‚óè"),
                                        React.createElement('span', { className: "animate-dot-3" }, "‚óè")
                                    )
                                ] : [
                                    React.createElement('span', { key: 'icon', className: "text-xl" }, "üöÄ"),
                                    React.createElement('span', { key: 'text' }, `Generate Tailored Resume (${CREDIT_COST} Credit)`)
                                ]
                            )
                        ),
                        // Output Section
                        React.createElement('div', { className: "glass rounded-2xl shadow-2xl p-6 card-hover border border-white/20 animate-fadeIn" },
                            React.createElement('div', { className: "flex justify-between items-center mb-4" },
                                React.createElement('label', { className: "flex items-center gap-2 text-base font-bold text-gray-800" },
                                    React.createElement('span', { className: "text-xl" }, "‚ú®"),
                                    React.createElement('span', null, "Tailored Resume Section")
                                ),
                                tailoredText && React.createElement('div', { className: "flex gap-2" },
                                    React.createElement('button', {
                                        onClick: copyToClipboard,
                                        className: "px-5 py-2.5 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2 font-semibold"
                                    },
                                        React.createElement('span', null, "üìã"),
                                        React.createElement('span', null, "Copy")
                                    ),
                                    userId && React.createElement('button', {
                                        onClick: saveTailoredResume,
                                        className: "px-5 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2 font-semibold"
                                    },
                                        React.createElement('span', null, "üíæ"),
                                        React.createElement('span', null, "Save")
                                    )
                                )
                            ),
                            React.createElement('div', {
                                className: "border-2 border-gray-200 rounded-xl p-6 h-[600px] overflow-y-auto bg-white/60 backdrop-blur-sm shadow-inner"
                            }, isGenerating ? React.createElement('div', { className: "h-full flex flex-col items-center justify-center space-y-4" },
                                React.createElement('div', { className: "relative w-16 h-16" },
                                    React.createElement('div', { className: "absolute inset-0 border-4 border-indigo-200 rounded-full" }),
                                    React.createElement('div', { className: "absolute inset-0 border-4 border-indigo-600 rounded-full border-t-transparent animate-spin" })
                                ),
                                React.createElement('p', { className: "text-indigo-600 font-semibold text-lg" }, "Tailoring your resume"),
                                React.createElement('div', { className: "flex items-center gap-1" },
                                    React.createElement('span', { className: "animate-dot-1 text-indigo-600" }, "‚óè"),
                                    React.createElement('span', { className: "animate-dot-2 text-indigo-600" }, "‚óè"),
                                    React.createElement('span', { className: "animate-dot-3 text-indigo-600" }, "‚óè")
                                ),
                                React.createElement('p', { className: "text-gray-500 text-sm" }, "Analyzing job description and optimizing keywords")
                            ) : tailoredText ? React.createElement('div', { className: "space-y-4" },
                                React.createElement('p', {
                                    className: "text-gray-800 whitespace-pre-wrap leading-relaxed text-base"
                                }, tailoredText),
                                React.createElement('div', { className: "pt-4 border-t border-gray-200 flex items-center gap-2 text-sm text-gray-500" },
                                    React.createElement('span', null, "üìä"),
                                    React.createElement('span', null, `${tailoredText.split(/\s+/).length} words ‚Ä¢ ${tailoredText.length} characters`)
                                )
                            ) : React.createElement('div', { className: "h-full flex items-center justify-center" },
                                React.createElement('div', { className: "text-center" },
                                    React.createElement('div', { className: "text-6xl mb-4 opacity-50" }, "üìù"),
                                    React.createElement('p', { className: "text-gray-400 italic text-lg" }, "Your tailored resume section will appear here..."),
                                    React.createElement('p', { className: "text-gray-400 text-sm mt-2" }, "Fill in the inputs and click Generate")
                                )
                            ))
                        )
                    ),
                    // Auth Modal
                    showAuthModal && React.createElement('div', {
                        className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",
                        onClick: () => setShowAuthModal(false)
                    },
                        React.createElement('div', {
                            className: "glass rounded-2xl p-8 max-w-md w-full shadow-2xl",
                            onClick: (e) => e.stopPropagation()
                        },
                            React.createElement('h2', { className: "text-2xl font-bold text-gray-800 mb-6 text-center" },
                                authMode === 'signin' ? 'Sign In to ResumeForge' : 'Create Account'
                            ),
                            error && React.createElement('div', {
                                className: "mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm"
                            }, error),
                            React.createElement('div', { className: "space-y-4" },
                                React.createElement('div', null,
                                    React.createElement('label', { className: "block text-sm font-semibold text-gray-700 mb-2" }, "Email"),
                                    React.createElement('input', {
                                        type: 'email',
                                        value: authEmail,
                                        onChange: (e) => setAuthEmail(e.target.value),
                                        placeholder: "your@email.com",
                                        className: "w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"
                                    })
                                ),
                                React.createElement('div', null,
                                    React.createElement('label', { className: "block text-sm font-semibold text-gray-700 mb-2" }, "Password"),
                                    React.createElement('input', {
                                        type: 'password',
                                        value: authPassword,
                                        onChange: (e) => setAuthPassword(e.target.value),
                                        placeholder: "‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",
                                        className: "w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all"
                                    })
                                ),
                                React.createElement('button', {
                                    onClick: authMode === 'signin' ? handleSignIn : handleSignUp,
                                    disabled: authLoading,
                                    className: `w-full py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-all ${authLoading ? 'opacity-50 cursor-not-allowed' : ''}`
                                }, authLoading ? 'Loading...' : (authMode === 'signin' ? 'Sign In' : 'Sign Up')),
                                React.createElement('div', { className: "text-center text-sm text-gray-600" },
                                    authMode === 'signin' ? 
                                        React.createElement(React.Fragment, null,
                                            "Don't have an account? ",
                                            React.createElement('button', {
                                                onClick: () => {
                                                    setAuthMode('signup');
                                                    setError(null);
                                                },
                                                className: "text-indigo-600 hover:underline font-semibold"
                                            }, "Sign Up")
                                        ) :
                                        React.createElement(React.Fragment, null,
                                            "Already have an account? ",
                                            React.createElement('button', {
                                                onClick: () => {
                                                    setAuthMode('signin');
                                                    setError(null);
                                                },
                                                className: "text-indigo-600 hover:underline font-semibold"
                                            }, "Sign In")
                                        )
                                )
                            )
                        )
                    ),
                    // Saved Resumes Modal
                    showSavedResumes && React.createElement('div', {
                        className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",
                        onClick: () => setShowSavedResumes(false)
                    },
                        React.createElement('div', {
                            className: "glass rounded-2xl p-8 max-w-4xl w-full max-h-[80vh] overflow-y-auto shadow-2xl",
                            onClick: (e) => e.stopPropagation()
                        },
                            React.createElement('div', { className: "flex justify-between items-center mb-6" },
                                React.createElement('h2', { className: "text-2xl font-bold text-gray-800" }, "Saved Resumes"),
                                React.createElement('button', {
                                    onClick: () => setShowSavedResumes(false),
                                    className: "text-gray-500 hover:text-gray-700 text-2xl"
                                }, "√ó")
                            ),
                            savedResumes.length === 0 ? React.createElement('div', { className: "text-center py-12" },
                                React.createElement('div', { className: "text-6xl mb-4 opacity-50" }, "üìÅ"),
                                React.createElement('p', { className: "text-gray-500 text-lg" }, "No saved resumes yet"),
                                React.createElement('p', { className: "text-gray-400 text-sm mt-2" }, "Generate and save a tailored resume to see it here")
                            ) : React.createElement('div', { className: "space-y-4" },
                                savedResumes.map((resume) => React.createElement('div', {
                                    key: resume.id,
                                    className: "border-2 border-gray-200 rounded-xl p-6 hover:border-indigo-300 transition-all bg-white/50"
                                },
                                    React.createElement('div', { className: "flex justify-between items-start mb-3" },
                                        React.createElement('div', { className: "flex-1" },
                                            React.createElement('p', { className: "text-xs text-gray-500 mb-1" },
                                                resume.createdAt ? new Date(resume.createdAt.seconds * 1000).toLocaleDateString() : 'Unknown date'
                                            ),
                                            React.createElement('p', { className: "text-sm font-semibold text-gray-700 mb-2 line-clamp-2" },
                                                resume.jobDescription ? resume.jobDescription.substring(0, 100) + '...' : 'No job description'
                                            )
                                        ),
                                        React.createElement('div', { className: "flex gap-2" },
                                            React.createElement('button', {
                                                onClick: () => loadSavedResume(resume),
                                                className: "px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all text-sm font-medium"
                                            }, "Load"),
                                            React.createElement('button', {
                                                onClick: () => deleteSavedResume(resume.id),
                                                className: "px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all text-sm font-medium"
                                            }, "Delete")
                                        )
                                    ),
                                    React.createElement('div', { className: "text-xs text-gray-500" },
                                        React.createElement('span', null, `Original: ${resume.originalSection ? resume.originalSection.length : 0} chars ‚Ä¢ `),
                                        React.createElement('span', null, `Tailored: ${resume.tailoredSection ? resume.tailoredSection.length : 0} chars`)
                                    )
                                ))
                            )
                        )
                    ),
                    // Footer
                    React.createElement('div', { className: "mt-12 text-center animate-fadeIn" },
                        React.createElement('div', { className: "glass rounded-xl px-6 py-4 inline-block" },
                            React.createElement('p', { className: "text-gray-700 font-medium flex items-center justify-center gap-2" },
                                React.createElement('span', null, "‚ö°"),
                                React.createElement('span', null, "Powered by Google Gemini AI"),
                                React.createElement('span', { className: "mx-2" }, "‚Ä¢"),
                                React.createElement('span', null, "üéØ Optimized for ATS keyword matching")
                            )
                        )
                    )
                )
            );
        }

        // Wait for Firebase modules to load
        const checkFirebase = setInterval(() => {
            if (window.firebaseModules && window.firebaseModules.initializeApp) {
                clearInterval(checkFirebase);
                const root = ReactDOM.createRoot(document.getElementById('root'));
                root.render(React.createElement(App));
            }
        }, 100);
    </script>
</body>
</html>

